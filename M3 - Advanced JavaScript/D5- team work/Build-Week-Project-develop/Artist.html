<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="shortcut icon" type="image/png" href="./assets/img/icons/01_RGB/02_PNG/Spotify_Icon_RGB_Green.png" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
        integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="./assets/css/style-home.css">
    <link rel="stylesheet" href="./assets/css/artist.css">
    <title>Artist</title>
    <style>
        /* #fect-songs-Api {
            overflow-x: scroll;
            overflow-y: hidden;
        } */
    </style>
</head>

<body>
    <div class='position-relative'>
        <div class="box hidden-box-artist position-absolute" style="height: 368px;">
            <div class="row">
                <div class="text-box-wthi-artist">
                    <div class="col-2">

                    </div>
                </div>
                <div id="header-Img" class="col-10 ml-auto p-0 pt-0 d-block">

                </div>
                <!-- <div class="container-fluid fade-box-artist"></div> -->
            </div>
        </div>
    </div>


    <!-- nav bar -->
    <div class="main-nav-bar">
        <div class="side-nav">
            <div class='py-3 px-2 m-2'>
                <svg viewBox="0 0 1134 340" class="">
                    <title>Spotify</title>
                    <path fill="white"
                        d="M8 171c0 92 76 168 168 168s168-76 168-168S268 4 176 4 8 79 8 171zm230 78c-39-24-89-30-147-17-14 2-16-18-4-20 64-15 118-8 162 19 11 7 0 24-11 18zm17-45c-45-28-114-36-167-20-17 5-23-21-7-25 61-18 136-9 188 23 14 9 0 31-14 22zM80 133c-17 6-28-23-9-30 59-18 159-15 221 22 17 9 1 37-17 27-54-32-144-35-195-19zm379 91c-17 0-33-6-47-20-1 0-1 1-1 1l-16 19c-1 1-1 2 0 3 18 16 40 24 64 24 34 0 55-19 55-47 0-24-15-37-50-46-29-7-34-12-34-22s10-16 23-16 25 5 39 15c0 0 1 1 2 1s1-1 1-1l14-20c1-1 1-1 0-2-16-13-35-20-56-20-31 0-53 19-53 46 0 29 20 38 52 46 28 6 32 12 32 22 0 11-10 17-25 17zm95-77v-13c0-1-1-2-2-2h-26c-1 0-2 1-2 2v147c0 1 1 2 2 2h26c1 0 2-1 2-2v-46c10 11 21 16 36 16 27 0 54-21 54-61s-27-60-54-60c-15 0-26 5-36 17zm30 78c-18 0-31-15-31-35s13-34 31-34 30 14 30 34-12 35-30 35zm68-34c0 34 27 60 62 60s62-27 62-61-26-60-61-60-63 27-63 61zm30-1c0-20 13-34 32-34s33 15 33 35-13 34-32 34-33-15-33-35zm140-58v-29c0-1 0-2-1-2h-26c-1 0-2 1-2 2v29h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v58c0 23 11 35 34 35 9 0 18-2 25-6 1 0 1-1 1-2v-21c0-1 0-2-1-2h-2c-5 3-11 4-16 4-8 0-12-4-12-12v-54h30c1 0 2-1 2-2v-22c0-1-1-2-2-2h-30zm129-3c0-11 4-15 13-15 5 0 10 0 15 2h1s1-1 1-2V93c0-1 0-2-1-2-5-2-12-3-22-3-24 0-36 14-36 39v5h-13c-1 0-2 1-2 2v22c0 1 1 2 2 2h13v89c0 1 1 2 2 2h26c1 0 1-1 1-2v-89h25l37 89c-4 9-8 11-14 11-5 0-10-1-15-4h-1l-1 1-9 19c0 1 0 3 1 3 9 5 17 7 27 7 19 0 30-9 39-33l45-116v-2c0-1-1-1-2-1h-27c-1 0-1 1-1 2l-28 78-30-78c0-1-1-2-2-2h-44v-3zm-83 3c-1 0-2 1-2 2v113c0 1 1 2 2 2h26c1 0 1-1 1-2V134c0-1 0-2-1-2h-26zm-6-33c0 10 9 19 19 19s18-9 18-19-8-18-18-18-19 8-19 18zm245 69c10 0 19-8 19-18s-9-18-19-18-18 8-18 18 8 18 18 18zm0-34c9 0 17 7 17 16s-8 16-17 16-16-7-16-16 7-16 16-16zm4 18c3-1 5-3 5-6 0-4-4-6-8-6h-8v19h4v-6h4l4 6h5zm-3-9c2 0 4 1 4 3s-2 3-4 3h-4v-6h4z">
                    </path>
                </svg>
            </div>
            <ul>
                <li><a class="" href="./index.html"> <span class="pr-2"><svg viewBox="0 0 512 512" width="24"
                                height="24" xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M448 463.746h-149.333v-149.333h-85.334v149.333h-149.333v-315.428l192-111.746 192 110.984v316.19z"
                                    fill="currentColor"></path>
                            </svg></span> Home</a></li>
                <!-- <li><a class="" href="#contact"> <span class="pr-2"><svg viewBox="0 0 512 512" width="24" height="24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z"
                                    fill="currentColor" fill-rule="evenodd"></path>
                            </svg></span> Search</a></li> -->
                <li>
                    <span onclick="doSearch()" class="ml-3"><svg viewBox="0 0 512 512" width="24" height="24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M349.714 347.937l93.714 109.969-16.254 13.969-93.969-109.969q-48.508 36.825-109.207 36.825-36.826 0-70.476-14.349t-57.905-38.603-38.603-57.905-14.349-70.476 14.349-70.476 38.603-57.905 57.905-38.603 70.476-14.349 70.476 14.349 57.905 38.603 38.603 57.905 14.349 70.476q0 37.841-14.73 71.619t-40.889 58.921zM224 377.397q43.428 0 80.254-21.461t58.286-58.286 21.461-80.254-21.461-80.254-58.286-58.285-80.254-21.46-80.254 21.46-58.285 58.285-21.46 80.254 21.46 80.254 58.285 58.286 80.254 21.461z"
                                fill="currentColor" fill-rule="evenodd"></path>
                        </svg></span>
                    <input class="" type="search" placeholder="search on deezer...">
                    <!-- <button class="btn btn-primary" onclick="doSearch()">search</button> -->
                </li>
                <li><a class="" href="#about"> <span class="pr-2"><svg viewBox="0 0 512 512" width="24" height="24"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M291.301 81.778l166.349 373.587-19.301 8.635-166.349-373.587zM64 463.746v-384h21.334v384h-21.334zM192 463.746v-384h21.334v384h-21.334z"
                                    fill="currentColor"></path>
                            </svg></span> Your Library</a></li>
            </ul>
            <div class="mt-4">
                <div class="d-flex ml-3 py-3">
                    <div class="d-flex plus-sign-nav align-items-center justify-content-center">
                        <svg role="img" height="12" width="12" viewBox="0 0 16 16" class="Svg-sc-1bi12j5-0 gSLhUO">
                            <path d="M14 7H9V2H7v5H2v2h5v5h2V9h5z"></path>
                            <path fill="none" d="M0 0h16v16H0z"></path>
                        </svg>

                    </div>
                    <a class="pl-3">Create Playlist</a>
                </div>
                <div class="d-flex ml-3 ">
                    <div class="d-flex liked-sign-nav align-items-center justify-content-center">
                        <svg role="img" height="12" width="12" viewBox="0 0 16 16" class="Svg-sc-1bi12j5-0 gSLhUO">
                            <path fill="none" d="M0 0h16v16H0z"></path>
                            <path
                                d="M13.797 2.727a4.057 4.057 0 00-5.488-.253.558.558 0 01-.31.112.531.531 0 01-.311-.112 4.054 4.054 0 00-5.487.253c-.77.77-1.194 1.794-1.194 2.883s.424 2.113 1.168 2.855l4.462 5.223a1.791 1.791 0 002.726 0l4.435-5.195a4.052 4.052 0 001.195-2.883 4.057 4.057 0 00-1.196-2.883z">
                            </path>
                        </svg>
                    </div>
                    <a class="pl-3">Liked Songs</a>
                </div>
            </div>
            <hr>
            <div class="side-menu-songs-list px-2 ml-2">
                <ul>
                    <li> Funky Heavy Bluesy &#x1F9DC </li>
                    <li>(He'll Never Be An) Old Man River</li>
                    <li>Your Top Songs 2020 &#x1F498</li>
                    <li>In Love WIth you - Erykah Basds</li>
                    <li>This Is Rob Stewart &#x1F4AF</li>
                    <li>Palleggio &#x1F60D </li>
                    <li>Jack 30th Parthy2</li>
                    <li>Jack 30th Parthy &#x2764 &#xFE0F &#x200D &#x1F525</li>
                    <li>Your Top Songs 2020</li>
                    <li>In Love WIth you - Erykah Basds </li>
                    <li>This Is Rob Stewart &#x1F4AF</li>
                    <li>Funky Heavy Bluesy</li>
                    <li>(He'll Never Be An) Old Man River</li>
                    <li>Your Top Songs 2020 &#x1F4AF</li>
                    <li>In Love WIth you - Erykah Basds</li>
                    <li>This Is Rob Stewart</li>
                    <li>Palleggio &#x1F60D</li>
                    <li>Jack 30th Parthy2 &#x1F916</li>
                    <li>Jack 30th Parthy &#x2764 &#xFE0F &#x200D &#x1F525</li>
                    <li>Your Top Songs 2020</li>
                    <li>In Love WIth you - Erykah Basds</li>
                    <li>This Is Rob Stewart &#x2764 &#xFE0F &#x200D &#x1F525</li>
                    <li>Funky Heavy Bluesy</li>
                    <li>(He'll Never Be An) Old Man River</li>
                    <li>Your Top Songs 2020</li>
                    <li>In Love WIth you - Erykah Basds</li>
                    <li>This Is Rob Stewart</li>
                    <li>Palleggio &#x2764 &#xFE0F &#x200D &#x1F525</li>
                    <li>Jack 30th Parthy2</li>
                    <li>Jack 30th Parthy &#x1F4AF</li>
                    <li>Your Top Songs 2020</li>
                    <li>In Love WIth you - Erykah Basds</li>
                    <li>This Is Rob Stewart &#x1F4AF</li>
                </ul>
            </div>

        </div>
        <nav class="navbar navbar-expand-lg navbar-light bg-light pb-3">
            <div class="d-none d-sm-block indicators">
                <div class="slide-next d-inline-block mr-2" onclick="goBack()">
                    <button class="btn">
                        <i class="bi bi-chevron-left"></i>
                    </button>
                </div>
                <div class="slide-back d-inline-block" onclick="goForward()">
                    <button class="btn">
                        <i class="bi bi-chevron-right"></i>
                    </button>
                </div>
            </div>

            <div class="btn-group ml-auto my-lg-0 d-flex position-relative pr-3">
                <button class="btn btn-sm dropdown-toggle rounded-pill" style="height:35px;" type="button"
                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img src="./assets/img/profile-img.jpeg" class="rounded-circle" width="30" height="30"
                        style="object-fit: fill;">
                    Diego 'Ziba' Ba...
                </button>
                <div class="dropdown-menu mt-2">
                    <a class="dropdown-item" href="#">Account</a>
                    <a class="dropdown-item" href="#">Profile</a>
                    <a class="dropdown-item" href="./login.html">Log out</a>
                </div>
            </div>
        </nav>
    </div>
    <!-- end navbar -->
    <div class="box position-relative pl-2">
        <div class="artist-top-lable">
            <p class="m-0" style="color: white; font-size: 14px;"><svg width="24" height="24" viewBox="0 0 24 24"
                    fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 21.6596l-3.38079 1.8543-1.84158-3.3877-3.84662-.2679.28231-3.8456-3.09118-2.3049 2.31658-3.0825-1.3543-3.61028 3.61534-1.34071.81255-3.76935 3.76627.82672L12 0l2.7214 2.73168 3.7663-.82672.8125 3.76935 3.6154 1.34071-1.3543 3.61028 2.3166 3.0825-3.0912 2.3049.2823 3.8456-3.8466.2679-1.8416 3.3877L12 21.6596z"
                        fill="#2E77D0"></path>
                    <path
                        d="M16.8637 7.41226l-6.6435 7.77824-2.80421-3.2842-.4935.5775 3.29771 3.8617 7.2135-8.44649-.57-.48675z"
                        fill="#fff"></path>
                </svg> Verified Artist</p>
            <h1 id="artist-name">Queen</h1>
            <p style="color: white; font-weight: bold; font-size: 15px;">73,052,587 monthly listeners</p>
        </div>
    </div>

    <!-- Artist GOES HERE -->


    <!-- ARTIST LIST STARTS HERE  -->


    <div class="gradient-background">

        <div class="box pt-5">

            <div class="icon-container">
                <div class="container1"><span class="dot"></span></div>
                <img class="container2" src="assets/img/icons/01_RGB/02_PNG/pause.png" height="55px" width="55px">

                <button class="button-one follow-btn bg-transparent border-white" style="color: white"> FOLLOW </button>
                <svg class="three-dot-container" xmlns="http://www.w3.org/2000/svg" margin-left="25px" width="30"
                    height="30" fill="white" class="bi bi-three-dots" viewBox="0 0 16 16">
                    <path
                        d="M3 9.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" />
                </svg>

            </div>
            <div class="container col-12 mt-4 mb-3">
                <div class="row col-12">
                    <div class="col-9">
                        <h4>Popular</h4>
                    </div>
                    <div class="col-3">
                        <h4>Artist's picks</h4>
                    </div>
                </div>
            </div>

            <div class="container col-12">
                <div class="row col-12">
                    <div class="col-9">
                        <div class="table-container">
                            <table class="table table-borderless table-transparent" style="position:relative">
                                <tbody id="top-song-table">

                                    <!-- Reminder for later to put a placeholder while the songs are being loaded -->

                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="col-3 mt-2">
                        <td>
                            <div class="artist-pick-container">
                                <div class="img-text-container" style="display:inline-flex;">
                                    <img style="width: 50px; height:50px;"
                                        src="https://cdn.pixabay.com/photo/2018/01/22/08/25/monkey-3098404__340.jpg"
                                        alt="">
                                    <div class="artist-pick-text-container" style="margin-left: 10px;">
                                        <h6>Posted by the artist</h6>

                                        <h6 style="color:slategrey;">Playlist</h6>
                                    </div>
                                </div>
                            </div>
                        </td>
                    </div>

                </div>
            </div>

            <div class="container col-12 ml-3">
                <div class="row">
                    <div class="col-12">
                        <button onclick="moreMusic()" class="btn btn-secondary" style="font-size: 12px;">SEE
                            MORE</button>
                    </div>
                </div>
            </div>





            <div class="pl-2 mt-3">
                <h4>Albums</h4>
                <div id='fect-songs-Api' class="row" style="flex-wrap: nowrap; overflow-x: auto; overflow-y: hidden;">

                    <!--Cards -->


                    <!--  -->

                </div>
            </div>
        </div>

    </div>

    <!-- ARTIST LIST ENDS HERE -->



    <!-- -----Footer---- -->
    <!--- FOOTER-->
    <div class="player container-fluid fixed-bottom position-sticky bg-container pt-1">
        <div class="row flex-nowrap justify-content-between playBar py-3">
            <div class="col-auto">
                <div class="playerArtistInfo d-flex">
                    <img />
                    <div class="d-flex flex-column pl-2">
                        <h6></h6>
                        <p></p>
                    </div>
                </div>
            </div>
            <div class="col-6">
                <div class="playerControls w-50 d-flex justify-content-between">
                    <a href="#">
                        <img src="./assets/img/playerbuttons/Shuffle.png" alt="shuffle" />
                    </a>
                    <a href="#">
                        <img src="./assets/img/playerbuttons/Previous.png" alt="previous" />
                    </a>
                    <a href="#">
                        <img src="./assets/img/playerbuttons/Play.png" alt="play" />
                    </a>
                    <a href="#">
                        <img src="./assets/img/playerbuttons/Next.png" alt="next" />
                    </a>
                    <a href="#">
                        <img src="./assets/img/playerbuttons/Repeat.png" alt="repeat" />
                    </a>
                </div>
                <div class="progressContainer d-flex align-items-center">
                    <span class="currentTime">00:00</span>
                    <div class="progress w-100">
                        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0"
                            aria-valuemax="100">
                            <audio></audio>
                        </div>
                    </div>
                    <span class="duration">00:00</span>
                </div>
            </div>
            <div class="col-auto mr-3">
                <div class="playerVolume">
                    <i class="fa fa-volume-up"></i>
                    <input type="range" value="50" />
                </div>
            </div>
        </div>
    </div>




    <!--- FOOTER-->

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
        crossorigin="anonymous"></script>

    <script>
        const artistAPI = (id = 112) => {
            return fetch(`https://striveschool-api.herokuapp.com/api/deezer/artist/${id}`)
        }

        const displayArtist = () => {
            let topImg = document.querySelector('#header-Img')
            let artistName = document.querySelector('#artist-name')
            let searchParams = new URLSearchParams(window.location.search)
            let id = searchParams.get('id')
            artistAPI(id)
                .then((response) => response.json())
                .then((data) => {
                    // console.log(data)
                    topImg.innerHTML = `<img src="${data.picture_xl}" width="100%" height="275" style="object-fit:contain">`
                    artistName.innerText = data.name
                })
        }

        displayArtist()

        const getArtistsTopTracksApi = (id = 13) => {
            return fetch(`https://deezerdevs-deezer.p.rapidapi.com/artist/${id}/top`, {
                "method": "GET",
                "headers": {
                    "x-rapidapi-host": "deezerdevs-deezer.p.rapidapi.com",
                    "x-rapidapi-key": "ea8551d0e8msh79995d8d74243ecp1c8355jsn30183cae82b1"
                }
            })
        }

        const displayTopFiveTracks = () => {
            let searchParams = new URLSearchParams(window.location.search)
            let id = searchParams.get('ArtistId')
            getArtistsTopTracksApi(id)
                .then((response) => response.json())

                .then((data) => {
                    data.data.forEach((song, index) => {

                        let table = document.querySelector('#top-song-table')
                        let tr = document.createElement('tr')
                        // console.log(song)
                        tr.innerHTML = `
                                        <th scope="row">${index + 1}</th>
                                        <td><img style="width:50px; height:50px;"
                                                src="${song.album.cover_medium}"
                                                alt=""></td>
                                        <td style="color: white;">${song.title}</td>
                                        <td>${song.rank}</td>
                         <td>${("0" + Math.floor(song.duration / 60)).slice(-2)} : ${("0" + song.duration % 60).slice(-2)}</td>`


                        table.appendChild(tr)

                    })
                })
                .catch(err => {
                    console.error(err);
                    displayTopFiveTracks() // this is just gonna run untill i get all the top tracks loaded in the page
                });
        }
        displayTopFiveTracks()
    </script>

    <script>
        // const song 

        function moreMusic() {
            const query = document.querySelector("input[type=search]").value
            getArtist(query)
                .then(data => data.json())
                .then(body => {
                    let table = document.querySelector('table tbody')
                    table.innerHTML = ''
                    for (let i = 0; i < body.data.length; i++) {
                        let songs = body.data[i]
                        console.log(songs)

                        let tr = document.createElement('tr')

                        tr.innerHTML = `     <th scope="row">2</th>
                                             <td><img style="width:50px; height:50px;"
                                                 src="${songs.album.cover_medium}"
                                                 alt=""></td>
                                                 <td style="color: white;">${songs.title}</td>
                                                 <td>1,063,959,983</td>
                                                 <td>${songs.artist.name}</td>`


                        table.appendChild(tr)
                    }

                })
        }


        function doSearch() {
            const query = document.querySelector("input[type=search]").value
            getArtist(query)
                .then(response => {
                    return response.json();
                })
                .then(body => {
                    let row = document.querySelector('#fect-songs-Api')
                    row.innerHTML = ''
                    for (let i = 0; i < body.data.length; i++) {
                        let songList = body.data[i]
                        console.log(songList)

                        let divCard = document.createElement('div')

                        divCard.className = 'col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 px-1 mb-2'

                        divCard.innerHTML = `
                                            <a href="./Album.html?id=${songList.album.id}" class='card-link'>
                                                <div class="card pt-2">
                                                    <img class="" src="${songList.album.cover_medium}" alt="Card image cap">
                                                    <div class="card-body card-text-paragraph">
                                                        <p class="pb-0 mb-1">${songList.title}</p>
                                                        <small><a href="./Artist.html?id=${songList.artist.id}">${songList.artist.name}</a></small>
                                                    </div>

                                                </div>
                                            </a>
                                        </div>`

                        row.appendChild(divCard)


                    }

                    console.log(body)
                })
                .catch(err => {
                    console.error(err);
                })

        }


        const getArtist = (artistName) => {
            return fetch("https://striveschool-api.herokuapp.com/api/deezer/search?q=" + artistName, {
                "method": "GET",
                "headers": {
                    "x-rapidapi-host": "deezerdevs-deezer.p.rapidapi.com",
                    "x-rapidapi-key": "58b9943fb1mshb5c9dff5c7132afp1a7cdbjsne88c72535849"
                }
            })




        }
        window.onload = function () {
            getArtist();
        }
    </script>

</body>

</html>